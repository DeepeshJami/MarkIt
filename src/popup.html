<!DOCTYPE html>
<html>
<head>
  <title>MarkIt by Deepesh Jami</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
  <link rel="icon" type="image/png" href="../assets/icons/icon32.png">
</head>
<body>
  <div class="popup-root">
    <header class="popup-header">
      <div class="header-left">
        <img src="../assets/icons/icon48.png" alt="MarkIt Logo" class="logo">
        <div class="header-info">
          <div class="ext-name">MarkIt</div>
          <div class="page-url" id="pageUrl">example.com/article</div>
        </div>
      </div>
      <div class="header-right">
        <label class="switch" title="Toggle all highlights visibility">
          <input type="checkbox" id="toggleHighlightsSwitch" checked>
          <span class="slider"></span>
        </label>
      </div>
    </header>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search your highlights‚Ä¶" title="Search through your highlights">
    </div>
    <div id="highlightsList" class="highlights-list redesigned">
      <!-- Highlights will be inserted here -->
      <div class="empty-state">
        <div class="empty-state-icon">‚ú®</div>
        <div class="empty-state-text">No highlights yet</div>
        <div class="empty-state-hint">Select text and press Ctrl+Shift+H to highlight</div>
      </div>
    </div>
    <footer class="popup-footer">
      <div class="footer-left">
        <button id="settingsBtn" title="Settings & About" class="footer-btn">‚öôÔ∏è</button>
        <button id="deleteAll" title="Delete all highlights on this page" class="footer-btn">üóëÔ∏è</button>
      </div>
      <button id="newHighlightBtn" class="new-highlight-btn" title="Create a new highlight">+ New Highlight</button>
      <div class="footer-meta">
        <span class="shortcut-hint" title="Keyboard shortcut to highlight selected text"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>H</kbd> Highlight text</span>
        <span class="version">v1.0.0</span>
      </div>
    </footer>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="deleteConfirmModal" class="modal-overlay" style="display:none;">
    <div class="modal">
      <div class="modal-title">Delete All Highlights?</div>
      <div class="modal-body">
        <p>This will remove all highlights for this page. This action cannot be undone.</p>
        <p class="modal-warning">‚ö†Ô∏è Your highlights will be permanently deleted.</p>
      </div>
      <div class="modal-actions">
        <button id="cancelDeleteBtn" class="modal-btn">Cancel</button>
        <button id="confirmDeleteBtn" class="modal-btn danger">Delete All</button>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal-overlay" style="display:none;">
    <div class="modal settings-modal">
      <div class="modal-title">Settings & About</div>
      <div class="modal-body">
        <div class="settings-section">
          <label for="colorPicker" class="settings-label">Default Highlight Color</label>
          <input type="color" id="colorPicker" value="#fffbe6" class="settings-color-picker" title="Choose your preferred highlight color">
        </div>
        <hr class="settings-divider">
        <div class="settings-section">
          <div class="settings-section-title">Export/Import (Current Page)</div>
          <div class="settings-description">Backup or restore highlights for this page only</div>
          <div class="settings-btn-row">
            <button id="exportBtn" class="modal-btn" title="Export highlights as JSON file">Export Highlights</button>
            <button id="importBtn" class="modal-btn" title="Import highlights from JSON file">Import Highlights</button>
            <input type="file" id="importInput" accept="application/json" style="display:none;">
          </div>
        </div>
        <hr class="settings-divider">
        <div class="settings-section">
          <div class="settings-section-title">Full Export/Import</div>
          <div class="settings-description">Backup or restore all your highlights across all pages</div>
          <div class="settings-btn-row">
            <button id="exportAllBtn" class="modal-btn" title="Export all highlights as JSON file">Export All</button>
            <button id="importAllBtn" class="modal-btn" title="Import all highlights from JSON file">Import All</button>
            <input type="file" id="importAllInput" accept="application/json" style="display:none;" />
          </div>
        </div>
        <hr class="settings-divider">
        <div class="settings-section settings-info-row">
          <span id="syncInfo" title="Chrome sync status">Sync: Enabled</span>
        </div>
        <div class="settings-section about-row">
          <div class="about-links">
            <a href="https://github.com/deepeshjami/markit" target="_blank" class="about-link" title="View source code on GitHub">GitHub</a>
            <a href="https://github.com/deepeshjami/markit/issues" target="_blank" class="about-link" title="Report bugs or request features">Report Issue</a>
            <a href="https://github.com/deepeshjami/markit/blob/main/PRIVACY.md" target="_blank" class="about-link" title="Read our privacy policy">Privacy Policy</a>
            <a href="https://chrome.google.com/webstore/detail/your-extension-id" target="_blank" class="about-link" title="Rate and review on Chrome Web Store">Rate on Chrome Web Store</a>
          </div>
          <div class="version-info">
            <span>MarkIt v1.0.0</span>
            <span class="copyright">¬© 2024 Deepesh Jami</span>
          </div>
        </div>
      </div>
      <div class="modal-actions">
        <button id="closeSettingsBtn" class="modal-btn modal-btn-full">Close</button>
      </div>
    </div>
  </div>

  <!-- Toast/Snackbar -->
  <div id="toast" class="toast" style="display:none;"></div>

  <script src="popup.js"></script>
</body>
</html> 